<h2 class="mt-3 mb-3">Edit Album</h2>

<hr>
<%= form_with(model: [ @album.user, @album], local: true) do |f| %>
<% if @album.errors.any? %>
<div id="error_explanation">
  <h2><%= pluralize(@album.errors.count, "error") %> prohibited this album from being saved:</h2>

  <ul>
    <% @album.errors.full_messages.each do |message| %>
    <li><%= message %></li>
    <% end %>
  </ul>
</div>
<% end %>
<div class="row">
  <div class="col-md-6">
    <div class="form-group">
      <%= f.label :title%>
      <%= f.text_field :title, placeholder: "Title",:class => 'form-control'%>
    </div>
    <!-- sharing mode -->
    <div class="form-group">
      <%= f.label :sharing_mode %>
      <%= f.select :sharing_mode, options_for_select([["Public", :public_mode], ["Private", :private_mode]], @album.sharing_mode ),{:prompt => "Select One"}, {required: 'true', autofocus: 'true', class: 'form-control'} %>
    </div>
  </div>
  <div class="col-md-6 form-group">
    <%= f.label :description%>
    <%= f.text_area(:description, size: '50x3', class: 'form-control', placeholder: "Description") %>
  </div>
</div>

<div class="actions">
  <%= f.submit "Save", :class => "btn btn-sm btn-success" %>
</div>
<% end %>
<hr>
<div id="content">
  <%= form_for :pic, :url => {:controller => "pics", :action => "create", :album_id => @album.id}, html: { multipart: true, class: "dropzone", id: "my-dropzone-album" } do |f| %>
    <div class="dz-message needsclick">
      <h3>Add or Remove Images of Album here</h3>
      <!-- or -->
      <!-- <strong>click</strong> to upload -->
    </div>
    <div class="fallback">
      <%= f.file_field :image %>
      <%= f.submit "Upload the Image" %>
    </div>
  <% end %>
</div>
<hr>
<%= link_to 'Show', user_album_path(@album.user, @album), class: "btn btn-sm btn-info" %> |
<%= link_to 'Back', user_albums_path, class: "btn btn-sm btn-primary" %>
